{"version":3,"sources":["webpack:///./src/views/player_page/index.vue","webpack:///./src/views/player_page/index.vue?cb42","webpack:///./src/views/player_page/index.vue?5275"],"names":["_hoisted_1","class","ref","setup","__props","store","url","currentPlayingMovie","_ref","regeneratorRuntime","mark","_callee","video","result","wrap","_context","prev","next","abrupt","uuid","videoType","sent","code","SUCCESS","value","data","error","msg","t0","console","stop","_x","apply","this","arguments","immediate","_ctx","_cache","_directive_loading","autoplay","needPlayRate","isBg","__exports__"],"mappings":"mPASIA,EAAa,CACfC,MAAO,iBACPC,IAAK,cAQqB,+BAAiB,CAC3CC,MAAO,SAAeC,GACpB,IAAIC,EAAQ,iBACRC,EAAM,iBAAI,IAwDd,OAtDA,oBAAM,WACJ,OAAOD,EAAME,sBACC,WACd,IAAIC,EAAO,eAAgCC,mBAAmBC,MAAK,SAASC,EAAQC,GAClF,IAAIC,EACJ,OAAOJ,mBAAmBK,MAAK,SAAkBC,GAC/C,MAAO,EACL,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EACH,GAAIL,EAAO,CACTG,EAASE,KAAO,EAChB,MAGF,OAAOF,EAASG,OAAO,UAEzB,KAAK,EAGH,OAFAH,EAASC,KAAO,EAChBD,EAASE,KAAO,EACT,eAAYL,EAAMO,KAAMP,EAAMQ,WAEvC,KAAK,EACHP,EAASE,EAASM,MAEF,OAAXR,QAA8B,IAAXA,OAAoB,EAASA,EAAOS,QAAU,OAAaC,QAEjFjB,EAAIkB,MAAQX,EAAOY,KAEnB,OAAUC,OAAkB,OAAXb,QAA8B,IAAXA,OAAoB,EAASA,EAAOc,MAAQ,eAGlFZ,EAASE,KAAO,GAChB,MAEF,KAAK,EACHF,EAASC,KAAO,EAChBD,EAASa,GAAKb,EAAS,SAAS,GAChC,OAAUW,MAAM,eAChBG,QAAQH,MAAMX,EAASa,IAEzB,KAAK,GACL,IAAK,MACH,OAAOb,EAASe,UAGrBnB,EAAS,KAAM,CAAC,CAAC,EAAG,SAGzB,OAAO,SAAUoB,GACf,OAAOvB,EAAKwB,MAAMC,KAAMC,YA/CZ,GAiDX,CACHC,WAAW,IAEN,SAAUC,EAAMC,GACrB,IAAIC,EAAqB,OAEzB,OAAO,6BAAiB,yBAAc,gCAAoB,MAAOtC,EAAY,CAAC,yBAAa,OAAc,CACvGM,IAAKA,EAAIkB,MACTe,SAAU,GACVC,aAAc,GACdC,MAAM,GACL,KAAM,EAAG,CAAC,WAAY,CAAC,CAACH,GAAqBhC,EAAIkB,a,iCChF1D,MAAMkB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,YAAY,qBAExD,gB,kCCRf,W","file":"js/chunk-48cec855.bfb1919a.js","sourcesContent":["import _asyncToGenerator from \"D:/learn/project/lzs_bishe/tv_web/tv_client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { defineComponent as _defineComponent } from 'vue';\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-b55f532e\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"player-wrapper\",\n  ref: \"playerNode\"\n};\nimport { ref, watch } from 'vue';\nimport NormalPlayer from 'components/VideoPlayer/normal.vue';\nimport { useMovieStore } from 'store/index';\nimport { ResponseCode } from '@/config/constants';\nimport { getVideoUrl } from '@/server/video';\nimport { ElMessage } from 'element-plus';\nexport default /*#__PURE__*/_defineComponent({\n  setup: function setup(__props) {\n    var store = useMovieStore();\n    var url = ref(''); // 监听要播放的视频，要是变化了就做些处理\n\n    watch(function () {\n      return store.currentPlayingMovie;\n    }, /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(video) {\n        var result;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (video) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return getVideoUrl(video.uuid, video.videoType);\n\n              case 5:\n                result = _context.sent;\n\n                if ((result === null || result === void 0 ? void 0 : result.code) === ResponseCode.SUCCESS) {\n                  // 拿到了就放\n                  url.value = result.data;\n                } else {\n                  ElMessage.error((result === null || result === void 0 ? void 0 : result.msg) || '获取视频播放地址失败~');\n                }\n\n                _context.next = 13;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                ElMessage.error('获取视频播放地址失败~');\n                console.error(_context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[2, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), {\n      immediate: true\n    });\n    return function (_ctx, _cache) {\n      var _directive_loading = _resolveDirective(\"loading\");\n\n      return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(NormalPlayer, {\n        url: url.value,\n        autoplay: \"\",\n        needPlayRate: \"\",\n        isBg: false\n      }, null, 8, [\"url\"])])), [[_directive_loading, !url.value]]);\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b55f532e&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\learn\\\\project\\\\lzs_bishe\\\\tv_web\\\\tv_client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b55f532e\"]])\n\nexport default __exports__","/* unplugin-vue-components disabled */export * from \"-!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--41-0!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--42-0!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=b55f532e&scoped=true&lang=scss\""],"sourceRoot":""}